<!DOCTYPE html>
<html lang="uk">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–£–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è –∞–¥–º—ñ–Ω—ñ—Å—Ç—Ä–∞—Ç–æ—Ä–∞–º–∏ - –ü–µ–∫–∞—Ä–Ω—è –≤ –•–æ–¥–æ—Å—ñ–≤—Ü—ñ</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <link rel="stylesheet" href="admin-styles.css">
</head>
<body>
    <div class="admin-container">
        <!-- Header -->
        <header class="admin-header">
            <div class="header-content">
                <div class="logo">
                    <img src="logo.jpg" alt="–ü–µ–∫–∞—Ä–Ω—è" class="logo-img">
                    <h1>–£–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è –∞–¥–º—ñ–Ω—ñ—Å—Ç—Ä–∞—Ç–æ—Ä–∞–º–∏</h1>
                </div>
                <div class="header-actions">
                    <button class="btn btn-secondary" onclick="window.location.href='admin.html'">
                        <i class="fas fa-arrow-left"></i> –ù–∞–∑–∞–¥ –¥–æ –∞–¥–º—ñ–Ω –ø–∞–Ω–µ–ª—ñ
                    </button>
                    <button class="btn btn-primary" onclick="saveAdmins()">
                        <i class="fas fa-save"></i> –ó–±–µ—Ä–µ–≥—Ç–∏
                    </button>
                </div>
            </div>
        </header>

        <!-- Main Content -->
        <main class="admin-main">
            <div class="section">
                <h3>–î–æ–¥–∞—Ç–∏ –∞–¥–º—ñ–Ω—ñ—Å—Ç—Ä–∞—Ç–æ—Ä–∞</h3>
                <div class="form-group">
                    <label>–¢–µ–ª–µ—Ñ–æ–Ω –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞</label>
                    <input type="tel" id="admin-phone" class="form-input" placeholder="+380">
                </div>
                <div class="form-group">
                    <label>–†—ñ–≤–µ–Ω—å –¥–æ—Å—Ç—É–ø—É</label>
                    <select id="admin-level" class="form-select">
                        <option value="owner">–í–ª–∞—Å–Ω–∏–∫</option>
                        <option value="admin">–ê–¥–º—ñ–Ω—ñ—Å—Ç—Ä–∞—Ç–æ—Ä</option>
                        <option value="moderator">–ú–æ–¥–µ—Ä–∞—Ç–æ—Ä</option>
                    </select>
                </div>
                <button class="btn btn-primary" onclick="addAdmin()">
                    <i class="fas fa-plus"></i> –î–æ–¥–∞—Ç–∏ –∞–¥–º—ñ–Ω—ñ—Å—Ç—Ä–∞—Ç–æ—Ä–∞
                </button>
            </div>

            <div class="section">
                <h3>–ü–æ—Ç–æ—á–Ω—ñ –∞–¥–º—ñ–Ω—ñ—Å—Ç—Ä–∞—Ç–æ—Ä–∏</h3>
                <div id="admins-list">
                    <!-- Admins will be loaded here -->
                </div>
            </div>

            <div class="section">
                <h3>–Ü–Ω—Å—Ç—Ä—É–∫—Ü—ñ—ó</h3>
                <div class="instructions">
                    <p><strong>–Ø–∫ –¥–æ–¥–∞—Ç–∏ –∞–¥–º—ñ–Ω—ñ—Å—Ç—Ä–∞—Ç–æ—Ä–∞:</strong></p>
                    <ol>
                        <li>–ö–æ—Ä–∏—Å—Ç—É–≤–∞—á –ø–æ–≤–∏–Ω–µ–Ω —Å–ø–æ—á–∞—Ç–∫—É –∑–∞—Ä–µ—î—Å—Ç—Ä—É–≤–∞—Ç–∏—Å—è –Ω–∞ —Å–∞–π—Ç—ñ</li>
                        <li>–í–≤–µ–¥—ñ—Ç—å –π–æ–≥–æ —Ç–µ–ª–µ—Ñ–æ–Ω —É –ø–æ–ª–µ –≤–∏—â–µ</li>
                        <li>–í–∏–±–µ—Ä—ñ—Ç—å —Ä—ñ–≤–µ–Ω—å –¥–æ—Å—Ç—É–ø—É</li>
                        <li>–ù–∞—Ç–∏—Å–Ω—ñ—Ç—å "–î–æ–¥–∞—Ç–∏ –∞–¥–º—ñ–Ω—ñ—Å—Ç—Ä–∞—Ç–æ—Ä–∞"</li>
                    </ol>
                    
                    <p><strong>–†—ñ–≤–Ω—ñ –¥–æ—Å—Ç—É–ø—É:</strong></p>
                    <ul>
                        <li><strong>–í–ª–∞—Å–Ω–∏–∫</strong> - –ø–æ–≤–Ω–∏–π –¥–æ—Å—Ç—É–ø, –º–æ–∂–µ –¥–æ–¥–∞–≤–∞—Ç–∏/–≤–∏–¥–∞–ª—è—Ç–∏ –∞–¥–º—ñ–Ω—ñ—Å—Ç—Ä–∞—Ç–æ—Ä—ñ–≤</li>
                        <li><strong>–ê–¥–º—ñ–Ω—ñ—Å—Ç—Ä–∞—Ç–æ—Ä</strong> - –ø–æ–≤–Ω–∏–π –¥–æ—Å—Ç—É–ø –¥–æ –≤—Å—ñ—Ö —Ñ—É–Ω–∫—Ü—ñ–π</li>
                        <li><strong>–ú–æ–¥–µ—Ä–∞—Ç–æ—Ä</strong> - –º–æ–∂–µ —Ä–µ–¥–∞–≥—É–≤–∞—Ç–∏ –∫–æ–Ω—Ç–µ–Ω—Ç, –∞–ª–µ –Ω–µ –º–æ–∂–µ –¥–æ–¥–∞–≤–∞—Ç–∏ —ñ–Ω—à–∏—Ö –∞–¥–º—ñ–Ω—ñ—Å—Ç—Ä–∞—Ç–æ—Ä—ñ–≤</li>
                    </ul>
                </div>
            </div>
        </main>
    </div>

    <script>
        // Load admins on page load
        document.addEventListener('DOMContentLoaded', function() {
            loadAdmins();
        });

        // Add new admin
        function addAdmin() {
            const phone = document.getElementById('admin-phone').value;
            const level = document.getElementById('admin-level').value;
            
            if (!phone) {
                alert('–ë—É–¥—å –ª–∞—Å–∫–∞, –≤–≤–µ–¥—ñ—Ç—å —Ç–µ–ª–µ—Ñ–æ–Ω');
                return;
            }
            
            // Get existing admins and users
            const admins = JSON.parse(localStorage.getItem('admins') || '[]');
            const users = JSON.parse(localStorage.getItem('users') || '[]');
            
            // Check if admin already exists
            if (admins.find(a => a.phone === phone)) {
                alert('–¶–µ–π –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á –≤–∂–µ —î –∞–¥–º—ñ–Ω—ñ—Å—Ç—Ä–∞—Ç–æ—Ä–æ–º');
                return;
            }
            
            // Check if user exists
            const user = users.find(u => u.phone === phone);
            if (!user) {
                alert('–ö–æ—Ä–∏—Å—Ç—É–≤–∞—á –∑ —Ç–∞–∫–∏–º —Ç–µ–ª–µ—Ñ–æ–Ω–æ–º –Ω–µ –∑–Ω–∞–π–¥–µ–Ω–∏–π. –°–ø–æ—á–∞—Ç–∫—É –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á –ø–æ–≤–∏–Ω–µ–Ω –∑–∞—Ä–µ—î—Å—Ç—Ä—É–≤–∞—Ç–∏—Å—è –Ω–∞ —Å–∞–π—Ç—ñ.');
                return;
            }
            
            // Add new admin
            const newAdmin = {
                phone: phone,
                level: level,
                addedAt: new Date().toISOString()
            };
            
            admins.push(newAdmin);
            localStorage.setItem('admins', JSON.stringify(admins));
            
            // Clear form
            document.getElementById('admin-phone').value = '';
            
            // Reload list
            loadAdmins();
            
            const fullName = user.surname ? `${user.name} ${user.surname}` : user.name;
            alert(`–ê–¥–º—ñ–Ω—ñ—Å—Ç—Ä–∞—Ç–æ—Ä–∞ –¥–æ–¥–∞–Ω–æ!\n\n–ö–æ—Ä–∏—Å—Ç—É–≤–∞—á: ${fullName}\n–¢–µ–ª–µ—Ñ–æ–Ω: ${phone}\n–†—ñ–≤–µ–Ω—å: ${level}`);
        }

        // Load admins list
        function loadAdmins() {
            const admins = JSON.parse(localStorage.getItem('admins') || '[]');
            const users = JSON.parse(localStorage.getItem('users') || '[]');
            const container = document.getElementById('admins-list');
            
            if (admins.length === 0) {
                container.innerHTML = '<p>–ü–æ–∫–∏ —â–æ –Ω–µ–º–∞—î –∞–¥–º—ñ–Ω—ñ—Å—Ç—Ä–∞—Ç–æ—Ä—ñ–≤</p>';
                return;
            }
            
            container.innerHTML = admins.map((admin, index) => {
                // Find user info
                const user = users.find(u => u.phone === admin.phone);
                const fullName = user ? (user.surname ? `${user.name} ${user.surname}` : user.name) : '–ù–µ–≤—ñ–¥–æ–º–∏–π –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á';
                
                return `
                <div class="menu-item">
                    <div class="menu-item-header">
                        <div class="menu-item-title">
                            <i class="fas fa-user-shield"></i>
                            ${fullName}
                            <span class="admin-level">(${getLevelDisplay(admin.level)})</span>
                        </div>
                        <div class="menu-item-actions">
                            <button class="btn btn-secondary" onclick="removeAdmin(${index})">
                                <i class="fas fa-trash"></i> –í–∏–¥–∞–ª–∏—Ç–∏
                            </button>
                        </div>
                    </div>
                    <div class="menu-item-details">
                        –¢–µ–ª–µ—Ñ–æ–Ω: ${admin.phone}<br>
                        –î–æ–¥–∞–Ω–æ: ${new Date(admin.addedAt).toLocaleDateString('uk-UA')}
                    </div>
                </div>
            `}).join('');
        }

        // Remove admin
        function removeAdmin(index) {
            if (confirm('–í–∏ –≤–ø–µ–≤–Ω–µ–Ω—ñ, —â–æ —Ö–æ—á–µ—Ç–µ –≤–∏–¥–∞–ª–∏—Ç–∏ —Ü—å–æ–≥–æ –∞–¥–º—ñ–Ω—ñ—Å—Ç—Ä–∞—Ç–æ—Ä–∞?')) {
                const admins = JSON.parse(localStorage.getItem('admins') || '[]');
                admins.splice(index, 1);
                localStorage.setItem('admins', JSON.stringify(admins));
                loadAdmins();
                alert('–ê–¥–º—ñ–Ω—ñ—Å—Ç—Ä–∞—Ç–æ—Ä–∞ –≤–∏–¥–∞–ª–µ–Ω–æ!');
            }
        }

        // Get level display text
        function getLevelDisplay(level) {
            switch(level) {
                case 'owner':
                    return 'üëë –í–ª–∞—Å–Ω–∏–∫';
                case 'admin':
                    return '‚öôÔ∏è –ê–¥–º—ñ–Ω—ñ—Å—Ç—Ä–∞—Ç–æ—Ä';
                case 'moderator':
                    return 'üîß –ú–æ–¥–µ—Ä–∞—Ç–æ—Ä';
                default:
                    return level;
            }
        }
        
        // Save admins (for consistency)
        function saveAdmins() {
            alert('–ê–¥–º—ñ–Ω—ñ—Å—Ç—Ä–∞—Ç–æ—Ä–∏ –∑–±–µ—Ä–µ–∂–µ–Ω–æ!');
        }
    </script>
</body>
</html> 