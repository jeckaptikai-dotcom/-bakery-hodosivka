<!DOCTYPE html>
<html lang="uk">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–°—Ç–∞—Ç—É—Å —Å–∏—Å—Ç–µ–º–∏ - –ü–µ–∫–∞—Ä–Ω—è –≤ –•–æ–¥–æ—Å—ñ–≤—Ü—ñ</title>
    <link rel="stylesheet" href="auth-styles.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
</head>
<body>
    <div class="auth-container">
        <div class="auth-card">
            <div class="auth-header">
                <img src="logo.jpg" alt="–ü–µ–∫–∞—Ä–Ω—è –≤ –•–æ–¥–æ—Å—ñ–≤—Ü—ñ">
                <h1>–°—Ç–∞—Ç—É—Å —Å–∏—Å—Ç–µ–º–∏</h1>
                <p>–ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω—å</p>
            </div>

            <div id="status-content">
                <div class="status-item">
                    <i class="fas fa-spinner fa-spin"></i>
                    –ü–µ—Ä–µ–≤—ñ—Ä—è—î–º–æ...
                </div>
            </div>

            <div class="back-link">
                <a href="index.html">
                    <i class="fas fa-home"></i> –ì–æ–ª–æ–≤–Ω–∞ —Å—Ç–æ—Ä—ñ–Ω–∫–∞
                </a>
            </div>
            <div style="text-align: center; margin-top: 20px; padding: 15px; background: #f0f8ff; border-radius: 10px;">
                <p style="margin: 0; font-size: 0.9rem; color: #4D372C;">
                    <i class="fas fa-user-shield"></i> 
                    <strong>–¢–≤–æ—Ä–µ—Ü—å —Å–∏—Å—Ç–µ–º–∏:</strong> <span id="status-creator-link">@mm.slmn</span>
                </p>
            </div>
        </div>
    </div>

    <script>
        function checkStatus() {
            const users = JSON.parse(localStorage.getItem('users') || '[]');
            const admins = JSON.parse(localStorage.getItem('admins') || '[]');
            const currentUser = JSON.parse(localStorage.getItem('currentUser'));
            const isLoggedIn = localStorage.getItem('adminLoggedIn');

            let html = '<div style="text-align: left;">';
            
            // Check users
            html += `<div class="status-item">
                <i class="fas fa-users"></i>
                <strong>–ö–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ:</strong> ${users.length}
            </div>`;
            
            // Check admins
            html += `<div class="status-item">
                <i class="fas fa-user-shield"></i>
                <strong>–ê–¥–º—ñ–Ω—ñ—Å—Ç—Ä–∞—Ç–æ—Ä–∏:</strong> ${admins.length}
            </div>`;
            
            // Check current user
            if (currentUser) {
                html += `<div class="status-item">
                    <i class="fas fa-user"></i>
                    <strong>–ü–æ—Ç–æ—á–Ω–∏–π –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á:</strong> ${currentUser.name} (${currentUser.phone})
                </div>`;
            } else {
                html += `<div class="status-item">
                    <i class="fas fa-user-times"></i>
                    <strong>–ü–æ—Ç–æ—á–Ω–∏–π –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á:</strong> –ù–µ —É–≤—ñ–π—à–ª–∏
                </div>`;
            }
            
            // Check login status
            if (isLoggedIn) {
                html += `<div class="status-item">
                    <i class="fas fa-sign-in-alt"></i>
                    <strong>–°—Ç–∞—Ç—É—Å –≤—Ö–æ–¥—É:</strong> –£–≤—ñ–π—à–ª–∏ –≤ –∞–¥–º—ñ–Ω –ø–∞–Ω–µ–ª—å
                </div>`;
            } else {
                html += `<div class="status-item">
                    <i class="fas fa-sign-out-alt"></i>
                    <strong>–°—Ç–∞—Ç—É—Å –≤—Ö–æ–¥—É:</strong> –ù–µ —É–≤—ñ–π—à–ª–∏
                </div>`;
            }
            
            // Recommendations
            html += '<div style="margin-top: 20px; padding: 15px; background: #f0f8ff; border-radius: 10px;">';
            html += '<h4>–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü—ñ—ó:</h4>';
            
            if (admins.length === 0) {
                html += '<p>‚ö†Ô∏è <strong>–°—Ç–≤–æ—Ä—ñ—Ç—å –∞–¥–º—ñ–Ω—ñ—Å—Ç—Ä–∞—Ç–æ—Ä–∞:</strong> <a href="init-admin.html">init-admin.html</a></p>';
            } else if (!isLoggedIn) {
                html += '<p>üîë <strong>–£–≤—ñ–π–¥—ñ—Ç—å –≤ –∞–¥–º—ñ–Ω –ø–∞–Ω–µ–ª—å:</strong> <a href="admin-login.html">admin-login.html</a></p>';
            } else {
                html += '<p>‚úÖ <strong>–°–∏—Å—Ç–µ–º–∞ –≥–æ—Ç–æ–≤–∞!</strong> <a href="admin.html">admin.html</a></p>';
            }
            
            html += '</div>';
            html += '</div>';
            
            document.getElementById('status-content').innerHTML = html;
        }

                            // Check status on page load
                    window.addEventListener('load', () => {
                        checkStatus();
                        
                        // Make creator link clickable for admins
                        const currentUser = JSON.parse(localStorage.getItem('currentUser'));
                        if (currentUser) {
                            const admins = JSON.parse(localStorage.getItem('admins') || '[]');
                            const isAdmin = admins.find(a => a.phone === currentUser.phone);
                            
                            if (isAdmin) {
                                const statusCreatorLink = document.getElementById('status-creator-link');
                                if (statusCreatorLink) {
                                    statusCreatorLink.innerHTML = '<a href="https://t.me/mm.slmn" target="_blank" style="color: #4D372C; text-decoration: none;">@mm.slmn</a>';
                                }
                            }
                        }
                    });
    </script>

    <style>
        .status-item {
            margin: 10px 0;
            padding: 10px;
            background: #f9f9f9;
            border-radius: 8px;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .status-item i {
            width: 20px;
            color: #8B7355;
        }
        
        .status-item a {
            color: #4D372C;
            text-decoration: none;
            font-weight: 600;
        }
        
        .status-item a:hover {
            text-decoration: underline;
        }
    </style>
</body>
</html> 